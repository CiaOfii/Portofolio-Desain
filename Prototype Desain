<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portofolio - Ofii</title>

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&family=Fredoka+One&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <style>
    /* Variabel Warna Dasar (Mode Terang) */
    :root{
      --bg:#e9f5ff;
      --card:#ffffff;
      --accent:#3b6aff; 
      --muted:#6b7a8a; 
      --text-main:#638beb; 
      --glass: rgba(255,255,255,0.6);
      --glow: 0 8px 30px rgba(59,106,255,0.14);
    }
    
    /* Variabel Warna Mode Gelap */
    .dark {
      --bg:#071026;
      --card:#071b2b;
      --accent:#5aa1ff;
      --muted:#bfcfe8; 
      --text-main:var(--muted); 
      --glass: rgba(10,20,30,0.5);
      --glow: 0 12px 40px rgba(90,161,255,0.08);
      color:var(--text-main);
    }

    *{box-sizing:border-box}
    html { scroll-behavior: smooth; }
    body{
      margin:0;
      font-family:"Poppins",system-ui,Arial;
      background:var(--bg);
      color:var(--text-main); 
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      transition: background .35s ease, color .35s ease;
      min-height: 100vh; 
      position: relative;
    }

    /* PROGRESS BAR CSS */
    #progressBar {
        position: fixed;
        top: 0;
        left: 0;
        width: 0%;
        height: 4px;
        background-color: var(--accent);
        z-index: 100;
        transition: width 0.1s linear;
    }

    /* LOADING SCREEN */
    #loader{
      position:fixed; inset:0; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(234,245,255,0.85));
      z-index:9999; transition: opacity .4s ease; 
    }
    .loader-bubble{
      width:70px; height:70px; border-radius:50%;
      background:linear-gradient(135deg,var(--accent), #70c1ff);
      box-shadow: 0 12px 30px rgba(59,106,255,0.2), 0 2px 8px rgba(0,0,0,0.08);
      animation: pulse 1.1s infinite alternate;
    }
    @keyframes pulse { to { transform: translateY(-8px) scale(1.03); } }

    /* HEADER */
    header{
      background-image: url('https://static.vecteezy.com/system/resources/previews/007/535/047/original/cool-plain-blue-background-free-vector.jpg');
      background-size:cover; background-position:center;
      padding:72px 20px 36px;
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .main-title{
      font-family:'Fredoka One'; font-size:48px; margin:0;
      color:#fff; -webkit-text-stroke:2px #004a7a; text-shadow:0 8px 30px rgba(0,0,0,0.35);
    }
    
    /* Tambahan Kontras Teks Header (backdrop-filter) */
    .tagline-wrapper {
        display: inline-block;
        padding: 4px 12px;
        border-radius: 8px;
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(2px);
    }

    .tagline {
      margin:12px auto 0; font-size:20px; font-weight:600;
      color:#0a1220; letter-spacing:1px;
      opacity:0; transform:translateY(10px);
      animation: taglineIn .9s .25s forwards;
      max-width:900px;
      min-height: 24px;
      display: inline-block;
    }
    @keyframes taglineIn{to{opacity:1; transform:none}}
    
    /* Efek typing cursor */
    .tagline::after {
        content: '|';
        display: inline-block;
        margin-left: 2px;
        animation: blink 0.7s infinite;
    }
    @keyframes blink {
        0%, 100% { opacity: 1; }
        50% { opacity: 0; }
    }


    /* NAV */
    nav{
      display:flex; gap:18px; justify-content:center; flex-wrap:wrap;
      background: linear-gradient(90deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      padding:12px; position:sticky; top:4px; z-index:60; 
      backdrop-filter: blur(6px);
      box-shadow: var(--glow);
    }
    nav a{ 
      color:var(--text-main); 
      text-decoration:none; 
      font-weight:600; 
      padding:6px 12px; 
      border-radius:8px; 
      transition:transform .18s, background .18s, color .2s;
    }
    /* Navigasi Aktif */
    nav a.active {
        color: #fff;
        background: var(--accent);
        transform: translateY(-2px) scale(1.02);
        box-shadow: 0 4px 12px rgba(59,106,255,0.25);
    }

    body.dark nav a {
        color: #fff;
    }
    body.dark nav a.active {
        color: var(--text-main); /* Ganti warna teks aktif di dark mode */
        background: var(--accent);
    }


    nav a:hover{ transform:translateY(-3px); background: rgba(255,255,255,0.06) }

    /* CONTAINER & BOX */
    .container{ max-width:1100px; margin:28px auto; padding:0 20px 80px; }
    .box{ 
      background:var(--card); 
      border-radius:14px; 
      padding:18px; 
      box-shadow:var(--glow); 
      transition: transform .28s; 
      color:var(--text-main); 
    }
    .box p, .box h3, .box li {
        color: inherit; 
    }

    body.dark .box{ box-shadow: var(--glow) }

    /* SECTION TITLE (outline) */
    .section-title{
      font-family:'Fredoka One'; font-size:28px; margin:0 0 12px; text-align:center;
      color:var(--text-main); 
      -webkit-text-stroke:1px var(--text-main);
      text-shadow:none;
      background: linear-gradient(90deg, rgba(11, 22, 40, 0.04), rgba(11, 22, 40, 0.02));
      display:inline-block; padding:8px 18px; border-radius:10px;
    }
    /* Pengaturan section title KHUSUS untuk Dark Mode (Kontras Biru) */
    body.dark .section-title {
      color:#fff; 
      -webkit-text-stroke:2px #004a7a;
      text-shadow:0 6px 18px rgba(0,0,0,0.35);
      background: linear-gradient(90deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
    }

    /* LAYOUT GRID */
    .skills-grid{ display:grid; grid-template-columns:repeat(2,1fr); gap:16px; }
    .skill-group ul{ margin:8px 0 0 18px; }
    .experience ul{ margin:8px 0 0 18px; }

    /* GALLERY: Animasi Hover 3D Tilt */
    .gallery{ display:grid; gap:18px; grid-template-columns: repeat(auto-fit, minmax(220px,1fr)); }
    .card{
      border-radius:12px; overflow:hidden; position:relative; cursor:pointer;
      transition: transform .35s cubic-bezier(.22,.9,.35,1), box-shadow .35s;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      transform-style: preserve-3d;
    }
    .card img{ width:100%; height:240px; object-fit:cover; display:block; transition: transform .5s; }
    .card:hover{ 
        transform: translateY(-8px) scale(1.01) rotateX(1deg) rotateY(1deg); 
        box-shadow: 0 26px 50px rgba(59,106,255,0.18); 
    }
    .card:hover img{ transform: scale(1.06); }
    .card .caption{ position:absolute; left:12px; bottom:12px; color:#fff; font-weight:700; text-shadow:0 8px 24px rgba(0,0,0,0.45); transform: translateZ(10px); } 


    /* LIGHTBOX/MODAL CSS */
    #imageModal {
        display: none; /* Default tersembunyi */
        position: fixed;
        z-index: 1000;
        left: 0;
        top: 0;
        width: 100%;
        height: 100%;
        overflow: auto;
        background-color: rgba(0, 0, 0, 0.9); /* Overlay gelap */
        backdrop-filter: blur(4px);
        align-items: center;
        justify-content: center;
        opacity: 0;
        transition: opacity 0.3s ease;
    }
    #imageModal.show {
        display: flex;
        opacity: 1;
    }
    #modalImage {
        margin: auto;
        display: block;
        max-width: 90%;
        max-height: 90%;
        border-radius: 10px;
        box-shadow: 0 0 30px rgba(0, 0, 0, 0.5);
        transform: scale(0.9);
        transition: transform 0.3s ease;
    }
    #imageModal.show #modalImage {
        transform: scale(1);
    }
    #closeModal {
        position: absolute;
        top: 20px;
        right: 35px;
        color: #f1f1f1;
        font-size: 40px;
        font-weight: bold;
        transition: 0.3s;
        cursor: pointer;
        opacity: 0.8;
    }
    #closeModal:hover,
    #closeModal:focus {
        color: #bbb;
        text-decoration: none;
        cursor: pointer;
        opacity: 1;
    }
    /* Akhir Modal CSS */


    /* CONTACT ICONS - Tambahan Animasi Putar */
    .social-container{ display:flex; gap:28px; justify-content:center; align-items:center; margin-top:6px; flex-wrap:wrap; }
    .social{
      width:66px; height:66px; display:flex; align-items:center; justify-content:center;
      border-radius:12px; background:var(--card); box-shadow:0 8px 24px rgba(11,22,40,0.06);
      transition: transform .28s, box-shadow .28s, color .28s, filter .28s;
      font-size:28px;
      color:var(--muted);
    }
    .social:hover{ 
      transform: translateY(-6px) rotate(4deg); 
      box-shadow:0 30px 60px rgba(59,106,255,0.12); 
      color:var(--accent); filter: none; 
    }
    .social.wa:hover{ color:#25D366 }
    .social.ig:hover{ color:#E4405F }
    .social.tt:hover{ color:#000 }

    /* Copy Button */
    #copyWa {
        background: #25D366;
        color: #fff;
        border: none;
        padding: 10px 20px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        margin-top: 15px;
        transition: background-color .2s, transform .2s;
        display: block;
        width: fit-content;
        margin-left: auto;
        margin-right: auto;
    }
    #copyWa:active {
        transform: scale(0.98);
    }
    #copyWa:hover {
        background-color: #1a9f4c;
    }
    /* Popup notifikasi */
    .popup-notif {
        position: fixed;
        bottom: 20px;
        left: 50%;
        transform: translateX(-50%);
        background-color: #333;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        opacity: 0;
        transition: opacity 0.3s;
        z-index: 1000;
        font-size: 14px;
    }
    .popup-notif.show {
        opacity: 1;
    }


    /* FLOATING BUTTONS */
    .float-wa{
      position:fixed; right:18px; bottom:18px; z-index:90;
      width:64px; height:64px; border-radius:50%; display:flex; align-items:center; justify-content:center;
      background: linear-gradient(135deg,#25D366,#00b35a); color:#fff; box-shadow: 0 18px 40px rgba(37,211,102,0.18);
      transition: transform .18s;
    }
    .float-wa:hover{ transform: translateY(-6px) scale(1.05) }

    /* BACK TO TOP BUTTON */
    #backToTop {
        position: fixed;
        right: 18px;
        bottom: 96px; 
        z-index: 90;
        width: 48px;
        height: 48px;
        border-radius: 50%;
        background: var(--accent);
        color: #fff;
        display: flex;
        align-items: center;
        justify-content: center;
        border: none;
        cursor: pointer;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity .3s, transform .3s;
        box-shadow: 0 10px 20px rgba(59,106,255,0.15);
    }
    #backToTop.show {
        opacity: 1;
        transform: translateY(0);
    }
    #backToTop:hover {
        background: #3b6aff;
    }


    /* FOOTER - Efek Sticky/Reveal */
    footer{ 
      margin-top:36px; 
      padding:24px 20px 48px; 
      text-align:center; 
      font-size:14px; 
      color:var(--muted);
      
      position: absolute;
      bottom: 0;
      width: 100%;
      background: var(--bg);
    }
    .container { padding-bottom: 120px; }


    /* reveal on scroll */
    .reveal{ 
        opacity:0; 
        transform: translateY(18px) scale(0.995); 
        transition: all .7s cubic-bezier(.2,.9,.25,1); 
        /* Pastikan semua section punya scroll-margin-top untuk Nav Aktif */
        scroll-margin-top: 70px; 
    }
    .reveal.visible{ opacity:1; transform:none; }

    /* dark mode toggle */
    .top-controls{ position:fixed; left:18px; bottom:18px; z-index:90; display:flex; gap:8px; align-items:center; }
    .toggle-btn{ 
      padding:8px 12px; 
      border-radius:10px; 
      background:var(--card); 
      box-shadow:var(--glow); 
      cursor:pointer; 
      border:0; 
      font-weight:700;
      color: var(--text-main); 
    }
    body.dark .toggle-btn {
        color: #fff;
    }

    /* responsive */
    @media(max-width:880px){ .skills-grid{ grid-template-columns:1fr } .main-title{ font-size:40px } .tagline{ font-size:18px } }
    @media(max-width:480px){
      .main-title{ font-size:34px; -webkit-text-stroke:1px #004a7a; }
      .tagline{ font-size:15px }
      .social{ width:56px; height:56px; font-size:22px }
      .float-wa{ width:56px; height:56px }
    }
  </style>
</head>
<body>

  <div id="progressBar"></div>

  <div id="loader">
    <div class="loader-bubble" aria-hidden="true"></div>
  </div>

  <div class="top-controls" aria-hidden="false">
    <button id="darkToggle" class="toggle-btn" title="Toggle Dark Mode"><i class="fa-solid fa-moon"></i></button>
  </div>

  <header>
    <h1 class="main-title">Portofolio</h1>
    <div class="tagline-wrapper">
        <p id="tagline-text" class="tagline"></p>
    </div>
  </header>

  <nav id="mainNav">
    <a href="#about">About Me</a>
    <a href="#skills">Skills</a>
    <a href="#experience">Pengalaman</a>
    <a href="#gallery">Galeri</a>
    <a href="#contact">Kontak</a>
  </nav>

  <main class="container">

    <section id="about" class="reveal">
      <h2 class="section-title">About Me</h2>
      <div class="box">
        <p>Halo! Saya Mufid Husna Fitrianto, seorang Mahasiswa Baru yang berfokus pada Desain , Konten Visual, Personal Branding, dan Editing Video. Saya menggunakan Canva, CapCut, dan Alight Motion untuk membuat karya yang estetik dan komunikatif.</p>
      </div>
    </section>

    <section id="skills" class="reveal">
      <h2 class="section-title">Skills</h2>
      <div class="box skills-grid">
        <div class="skill-group">
          <h3>Soft Skill</h3>
          <ul><li>Komunikasi</li><li>Teamwork</li><li>Tanggung Jawab</li><li>Manajemen Waktu</li><li>Melayani Pelanggan</li><li>Bahasa Inggris</li></ul>
        </div>
        <div class="skill-group">
          <h3>Hard Skill</h3>
          <ul><li>Microsoft Word</li><li>Microsoft PowerPoint</li><li>Editor Video (Alight Motion, CapCut)</li><li>Design (Canva)</li></ul>
        </div>
      </div>
    </section>

    <section id="experience" class="reveal">
      <h2 class="section-title">Pengalaman</h2>
      <div class="box experience">
        <h3>Ketua English Club</h3>
        <ul><li>Berpartisipasi dalam berbagai diskusi, presentasi dalam Bahasa inggris yang menarik</li><li>Menguasai materi grammar, bicara, dan menyanyi serta mempraktikan dengan baik</li><li>Mengikuti kegiatan English Club sebagai anggota aktif sejak tahun 2023 hingga tahun  2024</li></ul>

        <h3>Ketua Divisi Videografi D'Gram</h3>
        <ul><li>Bekerja dan mengikuti kegiatan dengan bersungguh-sungguh, disiplin, berkomitmen.<li>Mampu mempelajari, memimpin, mengajarkan, mengarahkan, dan memahami materi Multimedia dengan baik<li>Menguasai materi Ide, Korelasi, Konsep, ISO, Cahaya, Persiapan, Produksi, Publikasi dan Penerapan serta dapat mempraktikan dengan baik
        </li><li>Aktif mengikuti organisasi sejak tahun 2023 hingga tahun  2024</li></ul>
      </div>
    </section>

    <section id="gallery" class="reveal">
      <h2 class="section-title">Galeri Desain</h2>
      <div class="box gallery">
        <div class="card" data-fullimg="https://image2url.com/images/1763279584355-ec73bdaf-ba5c-4f04-81ca-d4c5b6bb230c.png" aria-label="Lihat Desain 1"><img src="https://image2url.com/images/1763279584355-ec73bdaf-ba5c-4f04-81ca-d4c5b6bb230c.png" alt="Desain 1"><div class="caption">Desain 1</div></div>
        <div class="card" data-fullimg="https://image2url.com/images/1763280025695-3ea8ed43-d651-4b07-bc4d-0c759a6b4ad4.png" aria-label="Lihat Desain 2"><img src="https://image2url.com/images/1763280025695-3ea8ed43-d651-4b07-bc4d-0c759a6b4ad4.png" alt="Desain 2"><div class="caption">Desain 2</div></div>
        <div class="card" data-fullimg="https://image2url.com/images/1763280044868-7303e3cf-167c-4817-834a-b2136626384e.png" aria-label="Lihat Desain 3"><img src="https://image2url.com/images/1763280044868-7303e3cf-167c-4817-834a-b2136626384e.png" alt="Desain 3"><div class="caption">Desain 3</div></div>
        <div class="card" data-fullimg="https://image2url.com/images/1763280064465-44654c73-a04f-4f65-a53d-632aa6bc277f.png" aria-label="Lihat Desain 4"><img src="https://image2url.com/images/1763280064465-44654c73-a04f-4f65-a53d-632aa6bc277f.png" alt="Desain 4"><div class="caption">Desain 4</div></div>
      </div>
    </section>

    <section id="contact" class="reveal" style="scroll-margin-top:120px">
      <h2 class="section-title">Kontak</h2>
      <div class="box" style="text-align:center">
        <div class="social-container">
          <a class="social wa" href="https://wa.me/6281803360369" target="_blank" aria-label="WhatsApp"><i class="fa-brands fa-whatsapp"></i></a>
          <a class="social ig" href="https://www.instagram.com/ciaofii/" target="_blank" aria-label="Instagram"><i class="fa-brands fa-instagram"></i></a>
          <a class="social tt" href="https://www.tiktok.com/@ciaoofi?is_from_webapp=1&sender_device=pc" target="_blank" aria-label="TikTok"><i class="fa-brands fa-tiktok"></i></a>
        </div>
        <button id="copyWa" data-number="6281803360369">
            <i class="fa-solid fa-copy"></i> Salin Nomor WhatsApp
        </button>
      </div>
    </section>

  </main>

  <a class="float-wa" href="https://wa.me/6281803360369" target="_blank" aria-label="Chat WhatsApp">
    <i class="fa-brands fa-whatsapp" style="font-size:22px"></i>
  </a>

  <button id="backToTop" title="Go to top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
    <i class="fa-solid fa-arrow-up"></i>
  </button>
  
  <div id="popupNotif" class="popup-notif"></div>

  <div id="imageModal" onclick="closeModal(event)">
    <span id="closeModal">&times;</span>
    <img id="modalImage" src="" alt="Gambar Galeri Besar">
  </div>
  <footer>
    © <span id="year"></span> Mufid Husna Fitrianto — Portofolio. Designed with care.
  </footer>

  <script>
    // Data untuk Typing Effect
    const GREETINGS = [
        "Kreativitas • Identitas • Karya Visual",
        "Siap Mengerjakan Project Anda.",
        "Desain, Video Editing, dan Personal Branding.",
        "Konten Visual yang Menarik Perhatian."
    ];
    const NUMBER_WA = "6281803360369";

    // Fungsi Utama Typing Effect
    let isDeleting = false;
    let textIndex = 0;
    let charIndex = 0;
    const typingElement = document.getElementById('tagline-text');

    function typeEffect() {
        const currentText = GREETINGS[textIndex % GREETINGS.length];
        let display = currentText.substring(0, charIndex);

        typingElement.textContent = display;

        if (!isDeleting) {
            charIndex++;
            if (charIndex > currentText.length) {
                // Selesai mengetik, tunggu 2 detik lalu mulai menghapus
                isDeleting = true;
                setTimeout(typeEffect, 2000);
                return;
            }
            setTimeout(typeEffect, 100); // Kecepatan mengetik
        } else {
            charIndex--;
            if (charIndex < 0) {
                // Selesai menghapus, pindah ke teks berikutnya, tunggu 0.5 detik
                isDeleting = false;
                textIndex++;
                setTimeout(typeEffect, 500);
                return;
            }
            setTimeout(typeEffect, 50); // Kecepatan menghapus
        }
    }
    
    // Loader hide & Mulai Typing Effect
    window.addEventListener('load', () => {
      setTimeout(()=> {
        const loader = document.getElementById('loader');
        loader.style.opacity = '0';
        setTimeout(()=> {
            loader.remove();
            typeEffect(); // Mulai typing effect setelah loader hilang
        }, 450);
      }, 500);
    });


    // --- LOGIKA LIGHTBOX/MODAL ---
    const modal = document.getElementById('imageModal');
    const modalImg = document.getElementById('modalImage');
    const galleryCards = document.querySelectorAll('.gallery .card');

    galleryCards.forEach(card => {
        card.addEventListener('click', function() {
            const imgSrc = this.getAttribute('data-fullimg');
            const imgAlt = this.querySelector('img').alt;
            
            modal.style.display = 'flex'; // Tampilkan modal
            // Menggunakan timeout kecil untuk memastikan display:flex diaktifkan sebelum transisi opacity dimulai
            setTimeout(() => {
                modal.classList.add('show');
                modalImg.src = imgSrc;
                modalImg.alt = imgAlt;
                document.body.style.overflow = 'hidden'; // Mencegah scrolling di background
            }, 10);
        });
    });

    // Fungsi untuk menutup modal
    function closeModal(event) {
        // Tutup jika mengklik tombol X atau mengklik area overlay (modal itu sendiri)
        if (event.target === modal || event.target.id === 'closeModal') {
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none'; // Sembunyikan setelah transisi
                document.body.style.overflow = ''; // Mengaktifkan scrolling kembali
            }, 300);
        }
    }

    // Tambahkan event listener untuk tombol tutup (X)
    document.getElementById('closeModal').addEventListener('click', closeModal);

    // Menutup modal dengan tombol ESC
    document.addEventListener('keydown', function(e) {
        if (e.key === "Escape" && modal.classList.contains('show')) {
            modal.classList.remove('show');
            setTimeout(() => {
                modal.style.display = 'none';
                document.body.style.overflow = '';
            }, 300);
        }
    });

    // FUNGSI UTILITY (Digabung menjadi satu listener untuk performa)
    window.addEventListener('scroll', function() {
        updateProgressBar();
        handleBackToTop();
    });

    // Indikator Progress Bar
    function updateProgressBar() {
      const scrollTotal = document.documentElement.scrollHeight - document.documentElement.clientHeight;
      const scrolled = document.documentElement.scrollTop;
      const progress = (scrolled / scrollTotal) * 100;
      document.getElementById("progressBar").style.width = progress + "%";
    }

    // Back to Top Logic
    const backToTopBtn = document.getElementById('backToTop');
    function handleBackToTop() {
        if (document.body.scrollTop > 400 || document.documentElement.scrollTop > 400) {
            backToTopBtn.classList.add('show');
        } else {
            backToTopBtn.classList.remove('show');
        }
    }
    
    // Navigasi Aktif Otomatis (IntersectionObserver)
    const sections = document.querySelectorAll("main section");
    const navLinks = document.querySelectorAll("#mainNav a");

    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting) {
                navLinks.forEach(link => link.classList.remove('active'));
                const activeLink = document.querySelector(`#mainNav a[href="#${entry.target.id}"]`);
                if (activeLink) {
                    activeLink.classList.add('active');
                }
            }
        });
    }, {
        rootMargin: "-40% 0px -40% 0px", // Mengaktifkan di tengah layar
    });

    sections.forEach(section => {
        observer.observe(section);
    });

    // Tombol Copy to Clipboard
    document.getElementById('copyWa').addEventListener('click', function() {
        navigator.clipboard.writeText(NUMBER_WA)
            .then(() => {
                showNotification("Nomor WhatsApp berhasil disalin!");
            })
            .catch(err => {
                console.error('Gagal menyalin: ', err);
                showNotification("Gagal menyalin nomor.");
            });
    });

    function showNotification(message) {
        const notif = document.getElementById('popupNotif');
        notif.textContent = message;
        notif.classList.add('show');
        setTimeout(() => {
            notif.classList.remove('show');
        }, 3000);
    }

    // Dark mode toggle (persist)
    const body = document.body;
    const toggle = document.getElementById('darkToggle');
    const saved = localStorage.getItem('prefers-dark');
    if(saved === '1') body.classList.add('dark');
    function updateToggleIcon(){
      toggle.innerHTML = body.classList.contains('dark') ? '<i class=\"fa-solid fa-sun\"></i>' : '<i class=\"fa-solid fa-moon\"></i>';
    }
    updateToggleIcon();
    toggle.addEventListener('click', () => {
      body.classList.toggle('dark');
      const isDark = body.classList.contains('dark') ? '1' : '0';
      localStorage.setItem('prefers-dark', isDark);
      updateToggleIcon();
    });

    // Reveal on scroll (IntersectionObserver)
    const obs = new IntersectionObserver((entries)=>{
      entries.forEach(e=>{
        if(e.isIntersecting) e.target.classList.add('visible');
      });
    }, {threshold:0.15});
    document.querySelectorAll('.reveal').forEach(el=> obs.observe(el));

    // Year in footer
    document.getElementById('year').textContent = new Date().getFullYear();

    // Accessibility
    (function(){
      let mouseUsed = false;
      window.addEventListener('mousedown', ()=> mouseUsed = true);
      window.addEventListener('keydown', (e)=> {
        if(e.key === 'Tab') mouseUsed = false;
      });
      document.addEventListener('focusin', (e)=>{
        if(mouseUsed) e.target.style.outline = 'none';
        else e.target.style.outline = '';
      });
    })();
  </script>
</body>
</html>
